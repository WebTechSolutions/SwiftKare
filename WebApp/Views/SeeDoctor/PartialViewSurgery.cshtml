@model IEnumerable<DataAccess.CustomModels.PSurgeries>
@{
    Layout = null;
}

@if (Model == null || Model.Count() == 0)
{
    if (ViewBag.Error != "")
    {
        <script>
            $(function () {
                new PNotify({
                    title: 'Error',
                    text: "@ViewBag.Error",
                    type: 'error',
                    styling: 'bootstrap3'
                });
            });

        </script>
    }
    

}
 <link rel="stylesheet" href="@Url.Content("~/Content/css/green.css")">
<script src="@Url.Content("~/Scripts/icheck.min.js")"></script> 
<div class="table-responsive">
    <table class="table" style="margin-bottom: 5px;" id="datatable-checkbox">
        <tbody>
            <tr>
                <td style="border-top: none">Have you ever had any surgeries or medical procedures?</td>
                <td style="border-top: none">
                    <div class="text-right">
                        <label>
                            No <input type="checkbox" class="js-switch" /> Yes
                        </label>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="input-group" style="width: 100%;">
                        <input type="text" name="country" placeholder="Add Surgery" id="autocomplete-custom-append6" class="form-control" />
                    </div>
                </td>
                <td width="10%">
                    <button class="btn btn-primary" style="max-width: 200px; float: right; margin-right: 0;" type="button">Add Surgery</button>
                </td>
            </tr>
            <tr>
                <td><b>Have you ever had any of the following? (Check All that Apply)</b></td>
                <td><b></b></td>
            </tr>
            @if (Model != null || Model.Count() > 0)
            {
                var j = 1;
                <tr>
                <td>                    
                        @foreach (var item in Model)
                        {
                            <div class="checkbox" style="display: inline-block; width: 160px;">
                                <label>
                                    <input name="@item.bodyPart" id="@item.surgeryID" type="checkbox" class="flat">&nbsp; @item.bodyPart
                                    <script>
                                        if(@item.surgeryID!=0)
                                        {
                                           $('#' + "@item.surgeryID").prop('checked', true);
                                        }

                                    </script>
                                </label>
                            </div>

                            if (j == 4)
                            {
                                <br>
                            }
                            j = j + 1;
                        }

                    </td>
                    <td></td>
                </tr>

            }
        </tbody>
    </table>
</div>

<!-- Datatables -->
<script>
    
      $(document).ready(function() {
        
         
        $('#datatable-responsive').DataTable();
        var $datatable = $('#datatable-checkbox');
        $datatable.on('draw.dt', function() {
          $('input').iCheck({
            checkboxClass: 'icheckbox_flat-green'
          });
        });

       
      });
</script>
<!-- /Datatables -->